{% extends '../base.html' %}
{% load static %}

{% block title %}Galeria {{grupo.nombre|title}}{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'monitores/css/style.css' %}">
{% endblock %}

{% block content %}

<nav class="navInternal">
</nav>
<hr>
{% for actividad in actividades %}
<h1 style="text-align: center; margin-top: 10px;"> {{actividad.dia}} </h1>
<div id="a{{ actividad.toId }}" class="carousel slide" data-bs-ride="carousel" style="margin: 0px auto 50px auto;">
	<div class="carousel-indicators">

		{% for i in actividad.mediaList %}
		<button type="button" data-bs-target="#a{{ actividad.toId }}" data-bs-slide-to="{{forloop.counter|add:'-1'}}" aria-current="true" aria-label="Slide {{forloop.counter}}" {% if forloop.counter == 1 %} class="active" aria-current="true" {% endif %}></button>
		{% endfor %}

	</div>
	<div class="carousel-inner">
		{% for media in actividad.mediaList %}
		<div class="carousel-item {% if forloop.counter|add:'-1' == 0 %} active {% endif %}" style="background-color: grey;">
			{% if media.is_video %}
            <video class="d-block" style="height: 400px; margin: 0 auto;" controls>
              <source src="{% static 'media/' %}{{ media.media }}">
            </video>
          	{% else %}
			<img class="d-block" style="height: 400px;margin: 0 auto;" src="{% static 'media/' %}{{ media.media }}" alt="{{ media.media }}">
			{% endif %}
		</div>
		{% endfor %}
	</div>
	<button class="carousel-control-prev" type="button" data-bs-target="#a{{actividad.toId}}" data-bs-slide="prev">
		<span class="carousel-control-prev-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Previous</span>
	</button>
	<button class="carousel-control-next" type="button" data-bs-target="#a{{actividad.toId}}" data-bs-slide="next">
		<span class="carousel-control-next-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Next</span>
	</button>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get all carousel images
        var carouselImages = document.querySelectorAll('.carousel-item img');

        // Add click event listener to each image
        carouselImages.forEach(function(media) {
            media.addEventListener('click', function() {
                if (media.requestFullscreen) {
                    media.requestFullscreen();
                } else if (media.mozRequestFullScreen) { // Firefox
                    media.mozRequestFullScreen();
                } else if (media.webkitRequestFullscreen) { // Chrome, Safari, and Opera
                    image.webkitRequestFullscreen();
                } else if (media.msRequestFullscreen) { // IE/Edge
                    media.msRequestFullscreen();
                }
            });
        });
    });
</script>
{% endfor %}

{% endblock %}